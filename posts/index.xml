<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on Miro's blog</title><link>https://mbezjak.github.io/posts/</link><description>Recent content in Posts on Miro's blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Fri, 04 Nov 2022 17:16:10 +0100</lastBuildDate><atom:link href="https://mbezjak.github.io/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>Make Mulog Play Nice With Kaocha</title><link>https://mbezjak.github.io/posts/make-mulog-play-nice-with-kaocha/</link><pubDate>Fri, 04 Nov 2022 17:16:10 +0100</pubDate><guid>https://mbezjak.github.io/posts/make-mulog-play-nice-with-kaocha/</guid><description>mulog is an excellent logging library for Clojure. It uses agents to process events asynchronously. This makes sense for deployed services.
But what about executing (integration, functional, etc.) tests? Some tests runners (e.g. Kaocha) try to capture the test output while the test is executing and provide that output in case the test failed. Do those two libraries play well together? Not really. The output captured cannot be relied upon:</description></item><item><title>Start the System Before Executing Integration Tests in Kaocha</title><link>https://mbezjak.github.io/posts/kaocha-start-system-hook/</link><pubDate>Fri, 04 Nov 2022 15:59:25 +0100</pubDate><guid>https://mbezjak.github.io/posts/kaocha-start-system-hook/</guid><description>Kaocha is a very good tests runner for Clojure. The documentation is really good.
What I wanted to do recently is to start (and stop) the system before (and after) running the integration tests. How to do that with hooks? If the project has unit tests separated from integration tests then this solution should work.
tests.edn
#kaocha/v1 {:tests [{:id :unit :test-paths [&amp;#34;test/unit&amp;#34;]} {:id :integration :test-paths [&amp;#34;test/integration&amp;#34;]}] :plugins [:hooks] :kaocha.hooks/wrap-run [kaocha-hooks/wrap-tests]} test/kaocha_hooks.</description></item></channel></rss>